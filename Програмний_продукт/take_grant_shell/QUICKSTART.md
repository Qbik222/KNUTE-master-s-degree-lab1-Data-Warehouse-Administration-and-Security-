# Швидкий старт

## Запуск програми

```bash
cd take_grant_shell
python3 main.py
```

## Приклад використання

### 1. Реєстрація та авторизація

```
[не авторизовано]> register alice password123
Користувач 'alice' успішно зареєстровано

[не авторизовано]> login alice password123
Вітаємо, alice!
```

### 2. Створення об'єктів

```
[alice]> create_file myfile.txt
Файл 'myfile.txt' створено (ID: <uuid>)

[alice]> create_dir mydir
Каталог 'mydir' створено (ID: <uuid>)
```

### 3. Робота з файлами

```
[alice]> write <file_id> Hello, World!
Файл успішно записано

[alice]> read <file_id>
Вміст файлу:
Hello, World!
```

### 4. Операції Take-Grant

```
# Реєструємо другого користувача
[alice]> logout
[не авторизовано]> register bob password456
[не авторизовано]> login bob password456

# Alice надає Bob право читання через grant
[alice]> grant <file_id> bob r
Операція grant успішна: надано права r від <file_id> до bob

# Bob перевіряє доступ
[bob]> check <file_id> r
Доступ до <file_id> з правом r дозволено

# Bob читає файл
[bob]> read <file_id>
Вміст файлу:
Hello, World!
```

### 5. Адміністративні команди

Спочатку потрібно зробити користувача адміністратором (через код або вручну).

```
[admin]> admin list_users
Користувачі системи:
  alice (адміністратор)
  bob

[admin]> admin matrix
Матриця доступу:
  alice -> <file_id>: r,w,x,t,g,o
  bob -> <file_id>: r
```

### 6. Аудит

```
[alice]> audit all
Всього подій: 15
  ✓ [2024-...] login - alice
  ✓ [2024-...] create_object - alice
  ...

[alice]> audit failed
Неуспішні доступи: 2
  [2024-...] access_denied - bob
```

## Структура даних

Дані зберігаються у:
- `data/system.json` - користувачі та налаштування
- `data/audit.json` - події аудиту
- `logs/audit.log` - текстовий лог подій

## Демонстрація вразливості до троянів

Модель Take-Grant демонструє вразливість дискреційних моделей:

1. **Проблема**: Якщо суб'єкт має право `grant` до об'єкта, він може надати доступ іншим
2. **Троян**: Зловмисна програма може використати права користувача для надання доступу зловмиснику
3. **Приклад**: 
   - Користувач запускає троян
   - Троян використовує права користувача для grant доступу до файлів
   - Зловмисник отримує доступ до конфіденційних даних

## Тестування

1. Створіть кілька користувачів
2. Створіть об'єкти (файли/каталоги)
3. Протестуйте операції take/grant
4. Перевірте перевірку доступу через ядро безпеки
5. Перегляньте журнал аудиту

